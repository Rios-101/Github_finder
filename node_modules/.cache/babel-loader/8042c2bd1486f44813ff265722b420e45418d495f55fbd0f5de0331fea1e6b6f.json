{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/charles/Desktop/Richard/Code with Mosh/github-finder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/charles/Desktop/Richard/Code with Mosh/github-finder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/charles/Desktop/Richard/Code with Mosh/github-finder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { createContext, useState } from \"react\";\nimport{createContext,useReducer}from\"react\";import GithubReducer from\"./githubReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";export var GithubContext=/*#__PURE__*/createContext({userResults:[],isLoading:true,searchUsers:function searchUsers(){},clearUsers:function clearUsers(){}});export var GithubProvider=function GithubProvider(_ref){var children=_ref.children;// const [userResults,setUserResults] = useState([])\n// const [isLoading,setIsLoading] = useState(true)\nvar initial={userResults:[],user:{},repos:[],isLoading:false};var _useReducer=useReducer(GithubReducer,initial),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Get First 30 users (for testing purpose)\n// const data = async ()=>{\n//     dispatch({type:\"SET_LOADING\"})\n//     const info = await fetch(\"https://api.github.com/users\",{\n//       headers: {\n//         Authorization: \"token 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\"\n//       }\n//     })\n//     const res = await info.json()\n//     // setTimeout(()=>{\n//     //     dispatch({\n//     //         type:\"GET_USERS\",\n//     //         payload:res\n//     //     })\n//     // },5000)\n//     // setUserResults(res)\n//     // setIsLoading(false)\n//     dispatch({\n//         type:\"GET_USERS\",\n//         payload:res\n//     })\n//     dispatch({})\n//   }\nvar searchUsers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user){var info,_yield$info$json,items;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:\"SET_LOADING\"});_context.next=3;return fetch(\"https://api.github.com/search/users?q=\".concat(user),{headers:{Authorization:\"token \".concat(process.env.REACT_APP_GITHUB_AUTH_KEY)}});case 3:info=_context.sent;_context.next=6;return info.json();case 6:_yield$info$json=_context.sent;items=_yield$info$json.items;dispatch({type:\"GET_USERS\",payload:items});case 9:case\"end\":return _context.stop();}}},_callee);}));return function searchUsers(_x){return _ref2.apply(this,arguments);};}();var getSingleUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(user){var info,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:\"SET_LOADING\"});_context2.next=3;return fetch(\"https://api.github.com/users/\".concat(user),{headers:{Authorization:\"token \".concat(process.env.REACT_APP_GITHUB_AUTH_KEY)}});case 3:info=_context2.sent;_context2.next=6;return info.json();case 6:data=_context2.sent;dispatch({type:\"GET_SINGLE_USER\",payload:data});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getSingleUser(_x2){return _ref3.apply(this,arguments);};}();var getSingleUserRepos=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(user){var info,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://api.github.com/users/\".concat(user,\"/repos\"),{headers:{Authorization:\"token \".concat(process.env.REACT_APP_GITHUB_AUTH_KEY)}});case 2:info=_context3.sent;_context3.next=5;return info.json();case 5:data=_context3.sent;dispatch({type:\"GET_REPOS\",payload:data});case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function getSingleUserRepos(_x3){return _ref4.apply(this,arguments);};}();var clearUsers=function clearUsers(){dispatch({type:\"CLEAR\"});};var value={userResults:state.userResults,isLoading:state.isLoading,user:state.user,repos:state.repos,searchUsers:searchUsers,clearUsers:clearUsers,getSingleUser:getSingleUser,getSingleUserRepos:getSingleUserRepos};return/*#__PURE__*/_jsx(GithubContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["createContext","useReducer","GithubReducer","GithubContext","userResults","isLoading","searchUsers","clearUsers","GithubProvider","children","initial","user","repos","state","dispatch","type","fetch","headers","Authorization","process","env","REACT_APP_GITHUB_AUTH_KEY","info","json","items","payload","getSingleUser","data","getSingleUserRepos","value"],"sources":["C:/Users/charles/Desktop/Richard/Code with Mosh/github-finder/src/components/context/github/githubContext.jsx"],"sourcesContent":["// import { createContext, useState } from \"react\";\r\nimport { createContext, useReducer } from \"react\";\r\nimport GithubReducer from \"./githubReducer\";\r\n\r\nexport const GithubContext = createContext({\r\n    userResults:[],\r\n    isLoading:true,\r\n    searchUsers:()=>{},\r\n    clearUsers:()=>{},\r\n})\r\n\r\nexport const GithubProvider =({children})=>{\r\n    // const [userResults,setUserResults] = useState([])\r\n    // const [isLoading,setIsLoading] = useState(true)\r\n\r\n    const initial = {\r\n        userResults: [],\r\n        user:{},\r\n        repos:[],\r\n        isLoading:false\r\n    }\r\n\r\n    const [state,dispatch] = useReducer(GithubReducer, initial)\r\n\r\n\r\n    // Get First 30 users (for testing purpose)\r\n    // const data = async ()=>{\r\n    //     dispatch({type:\"SET_LOADING\"})\r\n    //     const info = await fetch(\"https://api.github.com/users\",{\r\n    //       headers: {\r\n    //         Authorization: \"token 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\"\r\n    //       }\r\n    //     })\r\n    \r\n    //     const res = await info.json()\r\n    \r\n    //     // setTimeout(()=>{\r\n    //     //     dispatch({\r\n    //     //         type:\"GET_USERS\",\r\n    //     //         payload:res\r\n    //     //     })\r\n    //     // },5000)\r\n    //     // setUserResults(res)\r\n    //     // setIsLoading(false)\r\n\r\n    //     dispatch({\r\n    //         type:\"GET_USERS\",\r\n    //         payload:res\r\n    //     })\r\n\r\n    //     dispatch({})\r\n    //   }\r\n    const searchUsers = async (user)=>{\r\n        dispatch({type:\"SET_LOADING\"})\r\n        const info = await fetch(`https://api.github.com/search/users?q=${user}`,{\r\n          headers: {\r\n            Authorization: `token ${process.env.REACT_APP_GITHUB_AUTH_KEY}`\r\n          }\r\n        })\r\n    \r\n        const {items} = await info.json()\r\n\r\n\r\n        dispatch({\r\n            type:\"GET_USERS\",\r\n            payload:items\r\n        })\r\n\r\n      }\r\n\r\n      const getSingleUser = async (user)=>{\r\n        dispatch({type:\"SET_LOADING\"})\r\n        const info = await fetch(`https://api.github.com/users/${user}`,{\r\n          headers: {\r\n            Authorization: `token ${process.env.REACT_APP_GITHUB_AUTH_KEY}`\r\n          }\r\n        })\r\n    \r\n        const data = await info.json()\r\n\r\n\r\n        dispatch({\r\n            type:\"GET_SINGLE_USER\",\r\n            payload:data\r\n        })\r\n\r\n      }\r\n\r\n      const getSingleUserRepos = async (user)=>{\r\n        const info = await fetch(`https://api.github.com/users/${user}/repos`,{\r\n          headers: {\r\n            Authorization: `token ${process.env.REACT_APP_GITHUB_AUTH_KEY}`\r\n          }\r\n        })\r\n\r\n        const data = await info.json()\r\n\r\n        dispatch({\r\n          type:\"GET_REPOS\",\r\n          payload:data\r\n        })\r\n        \r\n      }\r\n\r\n      const clearUsers =()=>{\r\n        dispatch({type:\"CLEAR\"})\r\n      }\r\n\r\n    const value = {userResults: state.userResults,isLoading:state.isLoading,user:state.user,repos:state.repos,searchUsers,clearUsers,getSingleUser,getSingleUserRepos}\r\n    return <GithubContext.Provider value={value}>{children}</GithubContext.Provider>\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}